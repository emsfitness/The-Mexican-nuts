<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Ù…Ø­Ù…ØµØ© Ø§Ù„Ù…ÙƒØ³ÙŠÙƒÙŠ</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&amp;display=swap" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet"/>
<script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-database-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script>
<style>
    :root {
      --primary-color: #b87333;  /* Ù†Ø­Ø§Ø³ÙŠ */
      --secondary-color: #d4af37;  /* Ø°Ù‡Ø¨ÙŠ */
      --accent-color: #ffd700;  /* Ø°Ù‡Ø¨ÙŠ ÙØ§ØªØ­ */
      --text-color: #e0e0e0;    /* Ø±Ù…Ø§Ø¯ÙŠ ÙØ§ØªØ­ */
      --light-bg: #121212;      /* Ø£Ø³ÙˆØ¯ Ø¯Ø§ÙƒÙ† */
      --card-bg: #1e1e1e;       /* Ø£Ø³ÙˆØ¯ */
      --gradient-bg: linear-gradient(135deg, #b87333 0%, #1e1e1e 100%);
      --border-radius: 16px;
      --box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
      --transition: all 0.3s ease-in-out;
    }
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body {
      font-family: 'Cairo', sans-serif;
      direction: rtl;
      margin: 0;
      padding: 0;
      background: var(--light-bg);
      color: var(--text-color);
      min-height: 100vh;
      line-height: 1.6;
    }
    
    header {
      background-color: rgba(30, 30, 30, 0.95);
      padding: 12px 16px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.3);
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      position: sticky;
      top: 0;
      z-index: 999;
      width: 100%;
      gap: 10px;
    }
    
    .header-left {
      display: flex;
      align-items: center;
      gap: 10px;
      flex: 1;
      min-width: 200px;
    }
    
    .header-right {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .welcome {
      font-size: 1.5rem;
      font-weight: bold;
      color: var(--accent-color);
      text-align: center;
      animation: glow 2s ease-in-out infinite alternate;
      flex: 1;
      padding: 0 10px;
    }
    
    @keyframes glow {
      from { 
        text-shadow: 0 0 5px rgba(184, 115, 51, 0.7), 
                     0 0 10px rgba(212, 175, 55, 0.5); 
      }
      to { 
        text-shadow: 0 0 15px rgba(184, 115, 51, 0.9), 
                     0 0 25px rgba(212, 175, 55, 0.7); 
      }
    }
    
    .login-form {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: var(--card-bg);
      padding: 20px;
      border-radius: var(--border-radius);
      box-shadow: var(--box-shadow);
      z-index: 1000;
      width: 90%;
      max-width: 400px;
    }
    
    .login-form.active {
      display: block;
    }
    
    .login-form input {
      width: 100%;
      padding: 10px 12px;
      border-radius: var(--border-radius);
      border: 1px solid #444;
      font-family: 'Cairo';
      font-size: 0.95rem;
      margin: 8px 0;
      background: #2a2a2a;
      color: var(--text-color);
    }
    
    .login-form button {
      transition: var(--transition);
      width: 100%;
      padding: 10px;
      font-size: 0.95rem;
      background: var(--primary-color);
      color: #000;
    }
    
    .login-icon {
      font-size: 1.5rem;
      cursor: pointer;
      color: var(--primary-color);
      transition: transform 0.3s;
    }
    
    .login-icon:hover {
      transform: scale(1.1);
    }
    
    h1, h2, h3 {
      color: var(--primary-color);
      margin: 1rem 0;
    }
    
    h1 {
      font-size: 1.8rem;
      text-align: center;
      padding: 0 16px;
    }
    
    h2 {
      font-size: 1.5rem;
      text-align: center;
    }
    
    h3 {
      font-size: 1.2rem;
    }
    
    #products, .admin-products {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 20px;
      padding: 16px;
      width: 100%;
      max-width: 1200px;
      margin: 0 auto;
    }
    
    .card {
      animation: fadeInUp 0.6s ease-in-out;
      border: 1px solid #333;
      padding: 16px;
      background: var(--card-bg);
      border-radius: var(--border-radius);
      box-shadow: var(--box-shadow);
      transition: transform 0.3s, box-shadow 0.3s;
      display: flex;
      flex-direction: column;
    }
    
    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 20px rgba(0,0,0,0.3);
    }
    
    .card img {
      width: 100%;
      height: 180px;
      object-fit: cover;
      border-radius: var(--border-radius);
      margin-bottom: 12px;
    }
    
    .order-form, .edit-form {
      display: none;
      margin-top: 12px;
      background: #2a2a2a;
      padding: 12px;
      border-radius: var(--border-radius);
    }
    
    .order-form {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 90%;
      max-width: 500px;
      z-index: 1000;
      box-shadow: 0 4px 20px rgba(0,0,0,0.3);
    }
    
    .order-form-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.7);
      z-index: 999;
    }
    
    .order-form-overlay.active {
      display: block;
    }
    
    input, textarea, button {
      transition: var(--transition);
      width: 100%;
      padding: 10px 12px;
      border-radius: var(--border-radius);
      border: 1px solid #444;
      font-family: 'Cairo';
      font-size: 0.95rem;
      margin: 6px 0;
      background: #2a2a2a;
      color: var(--text-color);
    }
    
    textarea {
      min-height: 100px;
      resize: vertical;
    }
    
    button {
      transition: var(--transition);
      background-color: var(--primary-color);
      color: #000;
      border: none;
      cursor: pointer;
      font-weight: bold;
      transition: background-color 0.3s, transform 0.2s;
      margin: 8px 0;
    }
    
    button:hover {
      transform: scale(1.05);
      background: var(--secondary-color); 
      color: #000;
    }
    
    button:active {
      transform: scale(0.98);
    }
    
    /* Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª Ø§Ù„Ø®Ø§ØµØ© Ø¨Ø§Ù„ØªÙØ§ØµÙŠÙ„ */
    .product-details {
      max-height: 80px;
      overflow: hidden;
      position: relative;
      margin: 8px 0;
    }
    
    .product-details.expanded {
      max-height: none;
      overflow: visible;
    }
    
    .show-more {
      color: var(--primary-color);
      cursor: pointer;
      text-align: left;
      margin: 5px 0;
      font-weight: bold;
      font-size: 0.9rem;
    }
    
    /* Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… */
    .admin-section {
      display: none;
      padding: 16px;
      width: 100%;
      max-width: 1200px;
      margin: 0 auto;
    }
    
    .admin-tabs {
      display: flex;
      margin-bottom: 20px;
      border-bottom: 1px solid #444;
      overflow-x: auto;
      white-space: nowrap;
      -webkit-overflow-scrolling: touch;
    }
    
    .admin-tab {
      padding: 10px 20px;
      cursor: pointer;
      background: #2a2a2a;
      margin-left: 5px;
      border-radius: 8px 8px 0 0;
      font-size: 0.95rem;
    }
    
    .admin-tab.active {
      background: var(--primary-color);
      color: #000;
    }
    
    .admin-tab-content {
      display: none;
      padding: 10px 0;
    }
    
    .admin-tab-content.active {
      display: block;
    }
    
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 16px 0;
      font-size: 0.9rem;
    }
    
    th, td {
      border: 1px solid #444;
      padding: 10px;
      text-align: center;
    }
    
    th {
      background-color: #2a2a2a;
    }
    
    .main-store {
      display: block;
    }
    
    .admin-logged-in .main-store {
      display: none;
    }
    
    .top-buttons {
      display: flex;
      gap: 10px;
      position: relative;
    }
    
    .top-buttons button {
      transition: var(--transition);
      width: auto;
      padding: 8px 16px;
      font-size: 0.9rem;
      z-index: 1;
    }
    
    /* Ø´Ø±ÙŠØ· Ø§Ù„Ø¨Ø­Ø« */
    .search-container {
      display: flex;
      margin: 16px auto;
      max-width: 600px;
      padding: 0 16px;
    }
    
    .search-container input {
      border-radius: var(--border-radius) 0 0 var(--border-radius);
      margin: 0;
    }
    
    .search-container button {
      transition: var(--transition);
      width: auto;
      border-radius: 0 var(--border-radius) var(--border-radius) 0;
      padding: 0 16px;
    }
    
    /* Ù‚Ø³Ù… Ø·Ù„Ø¨ Ø§Ù„Ø´Ø±Ø§Ø¡ Ø§Ù„Ø¬Ø¯ÙŠØ¯ */
    .order-section {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease-out;
      background: #2a2a2a;
      border-radius: var(--border-radius);
      margin-top: 10px;
    }
    
    .order-section.expanded {
      max-height: 500px;
      padding: 12px;
      margin-top: 10px;
    }
    
    .order-section input {
      margin-bottom: 8px;
    }
    
    .order-buttons {
      display: flex;
      gap: 10px;
      margin-top: 10px;
    }
    
    .order-buttons button {
      transition: var(--transition);
      flex: 1;
      padding: 8px;
    }
    
    .order-buttons button.cancel {
      background: #6c757d;
    }
    
    /* ØªØ¹Ø¯ÙŠÙ„Ø§Øª Ù„Ù„Ù‡ÙˆØ§ØªÙ Ø§Ù„ØµØºÙŠØ±Ø© */
    @media (max-width: 768px) {
      header {
        flex-direction: column;
        align-items: stretch;
      }
      
      .header-left, .header-right {
        flex-direction: column;
        gap: 8px;
      }
      
      .welcome {
        font-size: 1.3rem;
        margin: 5px 0;
      }
      
      h1 {
        font-size: 1.5rem;
      }
      
      #products, .admin-products {
        grid-template-columns: 1fr;
        padding: 10px;
      }
      
      .card {
        animation: fadeInUp 0.6s ease-in-out;
        width: 100%;
      }
      
      .admin-tab {
        padding: 8px 12px;
        font-size: 0.85rem;
      }
      
      .top-buttons {
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: center;
      }
      
      .top-buttons button {
        transition: var(--transition);
        width: auto;
        padding: 8px 12px;
      }
      
      .search-container {
        flex-direction: column;
      }
      
      .search-container input {
        border-radius: var(--border-radius);
        margin-bottom: 5px;
      }
      
        .search-container {
    flex-direction: row-reverse;
    align-items: center;
    gap: 8px;
    padding: 10px 16px;
  }

  .search-container input {
    flex: 1;
    font-size: 1rem;
    padding: 10px;
    border-radius: var(--border-radius);
    margin-bottom: 0;
  }

  .search-container button {
    width: 42px;
    height: 42px;
    font-size: 1rem;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0;
    border-radius: 50%;
  }
}
ğŸ“Œ Ù…ÙƒØ§Ù† Ø§Ù„Ø¥Ø¶Ø§ÙØ©:
    
    /* ØªØ¹Ø¯ÙŠÙ„Ø§Øª Ù„Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ù„ÙˆØ­ÙŠØ© */
    @media (min-width: 481px) and (max-width: 768px) {
      #products, .admin-products {
        grid-template-columns: repeat(2, 1fr);
      }
    }
  
@keyframes fadeInUp {
  0% {
    opacity: 0;
    transform: translateY(20px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

.search-container {
  display: flex;
  flex-direction: row-reverse;
  align-items: center;
  justify-content: space-between;
}
.search-icon-button {
  background: none;
  border: none;
  cursor: pointer;
  color: var(--primary-color);
  font-size: 1.2rem;
  padding: 0 12px;
}
.search-icon-button:hover {
  color: var(--secondary-color);
}
    

/* Ø´Ø±ÙŠØ· Ø¥Ø¹Ù„Ø§Ù† Ù…ØªØ­Ø±Ùƒ */
.marquee {
  background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
  color: #000;
  font-weight: bold;
  padding: 10px;
  overflow: hidden;
  position: sticky;
  top: 0;
  z-index: 1000;
}
.marquee span {
  display: inline-block;
  white-space: nowrap;
  animation: marquee 15s linear infinite;
}
@keyframes marquee {
  0% { transform: translateX(100%); }
  100% { transform: translateX(-100%); }
}

.copyright {
  text-align: center;
  padding: 8px;
  background: #1e1e1e;
  color: var(--primary-color);
  font-size: 0.8rem;
  border-top: 1px solid #333;
}

/* Ù…Ø¤Ø«Ø±Ø§Øª Ø§Ù„Ø®Ø·ÙˆØ· ÙˆØ§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† */
h1 {
  text-shadow: 0 0 8px rgba(184, 115, 51, 0.7), 0 0 12px rgba(212, 175, 55, 0.5);
}
.gradient-text {
  background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: typing 5s infinite alternate;
}
@keyframes typing {
  from { letter-spacing: 2px; }
  to { letter-spacing: 8px; }
}
h2, h3 {
  transition: transform 0.3s;
}
h2:hover, h3:hover {
  transform: scale(1.05) rotate(-1deg);
}

/* Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… */
.card {
  opacity: 0;
  transform: translateY(20px);
  animation: fadeUp 0.8s forwards;
}
.card:hover {
  transform: rotate(1deg) scale(1.02);
}
.card:focus-within {
  transform: scale(1.05);
}
@keyframes fadeUp {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Ø£Ø²Ø±Ø§Ø± */
button {
  animation: pulse 2s infinite;
  transition: all 0.3s ease;
}
button:active {
  transform: translateY(2px) scale(0.98);
}
button:hover {
  background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
}
@keyframes pulse {
  0% { box-shadow: 0 0 0 0 rgba(184, 115, 51, 0.7); }
  70% { box-shadow: 0 0 0 10px rgba(184, 115, 51, 0); }
  100% { box-shadow: 0 0 0 0 rgba(184, 115, 51, 0); }
}

/* ØµÙˆØ± */
.card img {
  filter: blur(4px);
  animation: sharpen 1.2s forwards;
  border: 3px dashed var(--primary-color);
  box-shadow: 0 0 5px var(--primary-color);
}
@keyframes sharpen {
  to {
    filter: blur(0);
  }
}

/* Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª ÙÙŠ Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ */
.action-buttons {
  display: flex;
  gap: 5px;
  justify-content: center;
}

.action-buttons button {
  padding: 5px 10px;
  font-size: 0.8rem;
  margin: 0;
}

.complete-btn {
  background-color: #28a745;
}

.cancel-btn {
  background-color: #dc3545;
}

.clear-reports-btn {
  background-color: #dc3545;
  margin-bottom: 20px;
}

/* Ù‚Ø³Ù… Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± */
.report-summary {
  background-color: #2a2a2a;
  padding: 15px;
  border-radius: var(--border-radius);
  margin-bottom: 20px;
  border: 1px solid #444;
}

.report-summary h3 {
  color: var(--primary-color);
  margin-bottom: 10px;
}

.report-summary p {
  margin: 5px 0;
  font-size: 1.1rem;
}

.report-summary .total {
  font-weight: bold;
  color: var(--primary-color);
  font-size: 1.2rem;
  margin-top: 10px;
}

/* Ø£Ù‚Ø³Ø§Ù… Ù…Ù† Ù†Ø­Ù† ÙˆØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ */
.about-card, .contact-form-container {
  position: absolute;
  top: 100%;
  right: 0;
  width: 300px;
  background: var(--card-bg);
  border-radius: 0 0 var(--border-radius) var(--border-radius);
  box-shadow: var(--box-shadow);
  overflow: hidden;
  max-height: 0;
  transition: max-height 0.5s ease-out;
  z-index: 100;
}

.about-card.expanded, .contact-form-container.expanded {
  max-height: 600px;
  padding: 15px;
  border: 1px solid #444;
}

.about-content {
  padding: 10px;
}

.about-card h3, .contact-form-container h3 {
  margin-top: 0;
  color: var(--primary-color);
  text-align: center;
}

.contact-form {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.contact-form button {
  margin-top: 10px;
}

.close-btn {
  position: absolute;
  top: 5px;
  left: 5px;
  background: transparent;
  border: none;
  color: var(--text-color);
  font-size: 1.2rem;
  cursor: pointer;
  padding: 5px;
}
</style>
</head>
<body>

<div class="marquee"><span>âœ¨ Ø¹Ø±ÙˆØ¶ Ø§Ù„ÙŠÙˆÙ…: Ø®ØµÙ… 20% Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª! âœ¨ Ø§Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù† Ù‚Ø¨Ù„ Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ÙƒÙ…ÙŠØ© âœ¨</span></div>
<div class="copyright">Ø¬Ù…ÙŠØ¹ Ø­Ù‚ÙˆÙ‚ Ø§Ù„ØªØµÙ…ÙŠÙ… Ù…Ø­ÙÙˆØ¸Ø© Ù„Ù€ SFW Ù„Ù„ØªØ³ÙˆÙŠÙ‚ Ø§Ù„Ø°ÙƒÙŠ Øª: 01019899098</div>
<header>
<div class="header-left">
<div class="top-buttons">
<button id="aboutBtn">Ù…Ù† Ù†Ø­Ù†</button>
<div class="about-card" id="aboutCard">
  <button class="close-btn" onclick="closeAboutCard()">&times;</button>
  <h3>Ù…Ø­Ù…ØµØ© Ø§Ù„Ù…ÙƒØ³ÙŠÙƒÙŠ</h3>
  <div class="about-content">
    <p>ØªØ­Ù…ÙŠØµ ÙŠÙˆÙ…ÙŠ Ù„Ù„Ø¨Ù† ÙˆØ§Ù„Ù…ÙƒØ³Ø±Ø§Øª Ø¨Ø£Ø¹Ù„Ù‰ Ø¬ÙˆØ¯Ø© ÙˆØ£ÙØ¶Ù„ Ø³Ø¹Ø±</p>
    <p><strong>ÙØ±ÙˆØ¹Ù†Ø§:</strong></p>
    <ul style="padding-right: 15px;">
      <li>Ø§Ù„ÙØ±Ø¹ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ: Ø§Ù„Ø³ÙˆÙŠØ³ - 24 Ø£ÙƒØªÙˆØ¨Ø± Ø´ Ù†Ø§ØµØ± Ø¯Ø§Ø®Ù„ Ù…Ø§Ø±ÙƒØª Ø«Ù…Ø±Ø© Ø§Ù„ØªÙˆØ­ÙŠØ¯ ØªÙ„ÙŠÙÙˆÙ† 01141278024 </li>
      <li>1- Ø§Ù„Ø´ÙŠØ® Ø²Ø§ÙŠØ¯: Ø¨ÙŠÙØ±Ù„ÙŠ Ù‡ÙŠÙ„Ø² - Ø§Ù„Ù…Ø®ØªØ§Ø± Ù…Ø§Ø±ÙƒØª</li>
      <li>2- Ø¯Ù‡Ø¨ Ø´Ø±Ù… Ø§Ù„Ø´ÙŠØ®: Ø£Ù…Ø§Ù… Ù…Ø§Ø±ÙƒØª ØºØ²Ø§Ù„</li>
      <li>3- Ø§Ù„Ù‚Ø§Ù‡Ø±Ø© Ø´Ø¨Ø±Ø§ Ø§Ù„Ø®ÙŠÙ…Ø©: Ø¨ÙŠØ¬Ø§Ù… Ø£Ù…Ø§Ù… ÙˆÙ„ÙŠØ¯ Ù„Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª</li>
    </ul>
  </div>
</div>

<button id="contactBtn">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</button>
<div class="contact-form-container" id="contactFormContainer">
  <button class="close-btn" onclick="closeContactForm()">&times;</button>
  <h3>ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</h3>
  <div class="contact-form">
    <input id="contactName" placeholder="Ø§Ø³Ù…Ùƒ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„" type="text" required>
    <input id="contactPhone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ" type="tel" required>
    <textarea id="contactMessage" placeholder="Ø±Ø³Ø§Ù„ØªÙƒ" required></textarea>
    <button onclick="sendContactMessage()">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø©</button>
  </div>
</div>
</div>
<div class="welcome">( Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨ÙƒÙ… Ù…Ø¹ Ù…Ø­Ù…ØµØ© Ø§Ù„Ù…ÙƒØ³ÙŠÙƒÙŠ! Ù‚Ø²Ù‚Ø² Ø§Ù„Ù…ØªØ¹Ø©! )</div>
</div>
<div class="header-right">
<i class="fas fa-sign-in-alt login-icon" onclick="toggleLoginForm()"></i>
</div>
<div class="login-form" id="loginForm">
<h2>ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø£Ø¯Ù…Ù†</h2>
<input id="adminUser" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…" type="text"/>
<input id="adminPass" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" type="password"/>
<button onclick="loginAdmin()">Ø¯Ø®ÙˆÙ„</button>
<button onclick="toggleLoginForm()" style="background: #6c757d;">Ø¥Ù„ØºØ§Ø¡</button>
</div>
</header>
<div class="main-store">
<h1>Ù…Ø¹Ø±ÙˆØ¶Ø§Øª Ø§Ù„Ù…ØªØ¬Ø±</h1>
<!-- Ø´Ø±ÙŠØ· Ø§Ù„Ø¨Ø­Ø« -->
<div class="search-container" style="justify-content: flex-end;"><input id="searchInput" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†ØªØ¬..." style="flex: 1; max-width: 100%;" type="text"/><button class="search-icon-button" onclick="searchProducts()"><i class="fas fa-search"></i></button></div>
<div id="products"></div>
</div>
<div class="admin-section">
<button onclick="logoutAdmin()">Ø®Ø±ÙˆØ¬ Ø§Ù„Ø£Ø¯Ù…Ù†</button>
<div class="admin-tabs">
<div class="admin-tab active" onclick="switchAdminTab('products-tab')">Ù…Ø¹Ø±ÙˆØ¶Ø§Øª Ø§Ù„Ù…ØªØ¬Ø±</div>
<div class="admin-tab" onclick="switchAdminTab('add-tab')">Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬</div>
<div class="admin-tab" onclick="switchAdminTab('orders-tab')">Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø´Ø±Ø§Ø¡</div>
<div class="admin-tab" onclick="switchAdminTab('reports-tab')">ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª</div>
<div class="admin-tab" onclick="switchAdminTab('messages-tab')">Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</div>
</div>
<div class="admin-tab-content active" id="products-tab">
<h2>Ø¥Ø¯Ø§Ø±Ø© Ù…Ø¹Ø±ÙˆØ¶Ø§Øª Ø§Ù„Ù…ØªØ¬Ø±</h2>
<div class="admin-products" id="adminProducts"></div>
</div>
<div class="admin-tab-content" id="add-tab">
<h2>Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯</h2>
<div class="admin-panel">
<input id="productName" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬" type="text"/>
<input id="productPrice" placeholder="Ø§Ù„Ø³Ø¹Ø±" type="text"/>
<textarea id="productDetails" placeholder="Ø§Ù„ØªÙØ§ØµÙŠÙ„"></textarea>
<input accept="image/*" id="productImageFile" type="file"/>
<button onclick="addProduct()">Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬</button>
</div>
</div>
<div class="admin-tab-content" id="orders-tab">
<h2>Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø´Ø±Ø§Ø¡</h2>
<table id="ordersTable">
<tr><th>Ø§Ù„Ù…Ù†ØªØ¬</th><th>Ø§Ù„ÙƒÙ…ÙŠØ©</th><th>Ø§Ù„Ø¹Ù…ÙŠÙ„</th><th>Ø§Ù„Ù‡Ø§ØªÙ</th><th>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</th><th>Ø¥Ø¬Ø±Ø§Ø¡</th></tr>
</table>
</div>
<div class="admin-tab-content" id="reports-tab">
<h2>ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª</h2>
<button class="clear-reports-btn" onclick="clearReports()">Ù…Ø³Ø­ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±</button>
<div class="report-summary" id="reportSummary"></div>
<table id="reportsTable">
<tr><th>Ø§Ù„Ù…Ù†ØªØ¬</th><th>Ø§Ù„ÙƒÙ…ÙŠØ©</th><th>Ø§Ù„Ø³Ø¹Ø±</th><th>Ø§Ù„Ù…Ø¨Ù„Øº</th><th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th></tr>
</table>
</div>
<div class="admin-tab-content" id="messages-tab">
<h2>Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</h2>
<table id="messagesTable">
<tr><th>Ø§Ù„Ø§Ø³Ù…</th><th>Ø§Ù„Ù‡Ø§ØªÙ</th><th>Ø§Ù„Ø±Ø³Ø§Ù„Ø©</th><th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th><th>Ø¥Ø¬Ø±Ø§Ø¡</th></tr>
</table>
</div>
</div>
<script>
    const firebaseConfig = {
      apiKey: "AIzaSyDIlw1XSqdtZL18vQE7YJibO-k5T8oI3UM",
      authDomain: "nuts-cafe6.firebaseapp.com",
      projectId: "nuts-cafe6",
      storageBucket: "nuts-cafe6.appspot.com",
      messagingSenderId: "498764909089",
      appId: "1:498764909089:web:7a4fd323a7791834257160",
      measurementId: "G-EQFJR46ST1"
    };

    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    // Ù…ØªØºÙŠØ± Ù„ØªØ®Ø²ÙŠÙ† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù„Ù„Ø¨Ø­Ø«
    let allProducts = [];

    // ØªØ¹Ø±ÙŠÙ Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø£Ø²Ø±Ø§Ø± ÙˆØ§Ù„Ø£Ù‚Ø³Ø§Ù…
    const aboutBtn = document.getElementById('aboutBtn');
    const contactBtn = document.getElementById('contactBtn');
    const aboutCard = document.getElementById('aboutCard');
    const contactFormContainer = document.getElementById('contactFormContainer');

    // Ø¥Ø¶Ø§ÙØ© event listeners Ù„Ù„Ø£Ø²Ø±Ø§Ø±
    aboutBtn.addEventListener('click', toggleAboutCard);
    contactBtn.addEventListener('click', toggleContactForm);

    function toggleAboutCard() {
      // Ø¥ØºÙ„Ø§Ù‚ Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ØªÙˆØ§ØµÙ„ Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ÙØªÙˆØ­Ù‹Ø§
      if (contactFormContainer.classList.contains('expanded')) {
        contactFormContainer.classList.remove('expanded');
      }
      
      // ØªØ¨Ø¯ÙŠÙ„ Ø¨Ø·Ø§Ù‚Ø© "Ù…Ù† Ù†Ø­Ù†"
      aboutCard.classList.toggle('expanded');
    }

    function closeAboutCard() {
      aboutCard.classList.remove('expanded');
    }

    function toggleContactForm() {
      // Ø¥ØºÙ„Ø§Ù‚ Ø¨Ø·Ø§Ù‚Ø© "Ù…Ù† Ù†Ø­Ù†" Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù…ÙØªÙˆØ­Ø©
      if (aboutCard.classList.contains('expanded')) {
        aboutCard.classList.remove('expanded');
      }
      
      // ØªØ¨Ø¯ÙŠÙ„ Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ØªÙˆØ§ØµÙ„
      contactFormContainer.classList.toggle('expanded');
    }

    function closeContactForm() {
      contactFormContainer.classList.remove('expanded');
    }

    function renderProducts(products = null) {
      const productsToRender = products || allProducts;
      const container = document.getElementById('products');
      container.innerHTML = '';
      
      productsToRender.forEach(product => {
        const card = document.createElement('div');
        card.className = 'card';
        
        let showMoreBtn = '';
        if (product.details.length > 150) {
          showMoreBtn = '<div class="show-more" onclick="toggleDetails(this)">Ø§Ù„Ù…Ø²ÙŠØ¯ â–¼</div>';
        }
        
        card.innerHTML = `
          <img src="${product.image}" alt="ØµÙˆØ±Ø© Ø§Ù„Ù…Ù†ØªØ¬">
          <h3>${product.name}</h3>
          <div class="product-details">${product.details}</div>
          ${showMoreBtn}
          <p><strong>${product.price} Ø¬Ù†ÙŠÙ‡</strong></p>
          <button onclick="toggleOrderSection('${product.id}')">Ø·Ù„Ø¨ Ø´Ø±Ø§Ø¡</button>
          <div class="order-section" id="order-section-${product.id}">
            
    <select id="qty-${product.id}">
      <option value="Ù†ØµÙ Ø«Ù…Ù† ÙƒÙŠÙ„Ùˆ">Ù†ØµÙ Ø«Ù…Ù† ÙƒÙŠÙ„Ùˆ</option>
      <option value="Ø«Ù…Ù† ÙƒÙŠÙ„Ùˆ">Ø«Ù…Ù† ÙƒÙŠÙ„Ùˆ</option>
      <option value="Ø±Ø¨Ø¹ ÙƒÙŠÙ„Ùˆ">Ø±Ø¨Ø¹ ÙƒÙŠÙ„Ùˆ</option>
      <option value="Ù†ØµÙ ÙƒÙŠÙ„Ùˆ">Ù†ØµÙ ÙƒÙŠÙ„Ùˆ</option>
      <option value="1 ÙƒÙŠÙ„Ùˆ">1 ÙƒÙŠÙ„Ùˆ</option>
      <option value="2 ÙƒÙŠÙ„Ùˆ">2 ÙƒÙŠÙ„Ùˆ</option>
      <option value="5 ÙƒÙŠÙ„Ùˆ">5 ÙƒÙŠÙ„Ùˆ</option>
    </select>
    
            <input type="text" placeholder="Ø§Ø³Ù…Ùƒ" id="name-${product.id}">
            <input type="tel" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ" id="phone-${product.id}">
            <input type="text" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù†" id="address-${product.id}">
            <div class="order-buttons">
              <button onclick="submitOrder('${product.id}')">Ø­ÙØ¸ Ø§Ù„Ø·Ù„Ø¨</button>
              <button class="cancel" onclick="toggleOrderSection('${product.id}')">Ø¥Ù„ØºØ§Ø¡</button>
            </div>
          </div>
        `;
        container.appendChild(card);
      });
    }

    function renderAdminProducts() {
      db.ref('products').on('value', snapshot => {
        const container = document.getElementById('adminProducts');
        container.innerHTML = '';
        snapshot.forEach(child => {
          const data = child.val();
          const key = child.key;
          const card = document.createElement('div');
          card.className = 'card';
          
          let showMoreBtn = '';
          if (data.details.length > 100) {
            showMoreBtn = '<div class="show-more" onclick="toggleDetails(this)">Ø§Ù„Ù…Ø²ÙŠØ¯ â–¼</div>';
          }
          
          card.innerHTML = `
            <img src="${data.image}" alt="ØµÙˆØ±Ø© Ø§Ù„Ù…Ù†ØªØ¬">
            <h3>${data.name}</h3>
            <div class="product-details">${data.details}</div>
            ${showMoreBtn}
            <p><strong>${data.price} Ø¬Ù†ÙŠÙ‡</strong></p>
            <button onclick="showEditForm('${key}')">ØªØ¹Ø¯ÙŠÙ„</button>
            <button onclick="deleteProduct('${key}')">Ø­Ø°Ù</button>
            <div class="edit-form" id="edit-form-${key}">
              <input type="text" id="edit-name-${key}" value="${data.name}" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬">
              <input type="text" id="edit-price-${key}" value="${data.price}" placeholder="Ø§Ù„Ø³Ø¹Ø±">
              <textarea id="edit-details-${key}" placeholder="Ø§Ù„ØªÙØ§ØµÙŠÙ„">${data.details}</textarea>
              <button onclick="updateProduct('${key}')">Ø­ÙØ¸ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª</button>
              <button onclick="hideEditForm('${key}')">Ø¥Ù„ØºØ§Ø¡</button>
            </div>
          `;
          container.appendChild(card);
        });
      });
    }

    function toggleDetails(element) {
      const detailsDiv = element.previousElementSibling;
      detailsDiv.classList.toggle('expanded');
      element.textContent = detailsDiv.classList.contains('expanded') ? 'Ø¥Ø®ÙØ§Ø¡ â–²' : 'Ø§Ù„Ù…Ø²ÙŠØ¯ â–¼';
    }

    function toggleOrderSection(productId) {
      const orderSection = document.getElementById(`order-section-${productId}`);
      orderSection.classList.toggle('expanded');
    }

    function submitOrder(productId) {
      const qty = document.getElementById(`qty-${productId}`).value;
      const name = document.getElementById(`name-${productId}`).value;
      const phone = document.getElementById(`phone-${productId}`).value;
      const address = document.getElementById(`address-${productId}`).value;
      
      if (!qty || parseInt(qty) < 1) return alert('Ø§Ù„ÙƒÙ…ÙŠØ© ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ø±Ù‚Ù… Ù…ÙˆØ¬Ø¨');
      if (!name) return alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù…Ùƒ');
      if (!phone) return alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ');
      if (!address) return alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†');
      
      // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©
      const product = allProducts.find(p => p.id === productId);
      if (!product) return alert('Ø§Ù„Ù…Ù†ØªØ¬ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯');
      
      db.ref('orders').push({ 
        productName: product.name, 
        qty, 
        name, 
        phone, 
        address,
        productPrice: product.price,
        timestamp: firebase.database.ServerValue.TIMESTAMP
      })
      .then(() => {
        alert('ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­');
        toggleOrderSection(productId);
        // Ù…Ø³Ø­ Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
        document.getElementById(`qty-${productId}`).value = '1';
        document.getElementById(`name-${productId}`).value = '';
        document.getElementById(`phone-${productId}`).value = '';
        document.getElementById(`address-${productId}`).value = '';
      })
      .catch(error => {
        console.error('Error saving order:', error);
        alert('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø­ÙØ¸ Ø§Ù„Ø·Ù„Ø¨ØŒ ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰');
      });
    }

    function toggleLoginForm() {
      document.getElementById('loginForm').classList.toggle('active');
    }

    function loginAdmin() {
      const user = document.getElementById('adminUser').value;
      const pass = document.getElementById('adminPass').value;
      if (user === 'admin' && pass === '1234') {
        document.querySelector('.admin-section').style.display = 'block';
        document.body.classList.add('admin-logged-in');
        toggleLoginForm();
        loadOrders();
        loadMessages();
        loadReports();
        renderAdminProducts();
      } else {
        alert('Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„ ØºÙŠØ± ØµØ­ÙŠØ­Ø©');
      }
    }

    function logoutAdmin() {
      document.querySelector('.admin-section').style.display = 'none';
      document.body.classList.remove('admin-logged-in');
    }

    function switchAdminTab(tabId) {
      document.querySelectorAll('.admin-tab-content').forEach(content => {
        content.classList.remove('active');
      });
      
      document.querySelectorAll('.admin-tab').forEach(tab => {
        tab.classList.remove('active');
      });
      
      document.getElementById(tabId).classList.add('active');
      document.querySelector(`.admin-tab[onclick="switchAdminTab('${tabId}')"]`).classList.add('active');
      
      if (tabId === 'orders-tab') {
        loadOrders();
      } else if (tabId === 'products-tab') {
        renderAdminProducts();
      } else if (tabId === 'messages-tab') {
        loadMessages();
      } else if (tabId === 'reports-tab') {
        loadReports();
      }
    }

    function addProduct() {
      const name = document.getElementById('productName').value;
      const price = document.getElementById('productPrice').value;
      const details = document.getElementById('productDetails').value;
      const fileInput = document.getElementById('productImageFile');
      
      if (!name || !price || !details) {
        return alert('ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„');
      }
      
      if (!fileInput.files[0]) {
        return alert('ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± ØµÙˆØ±Ø© Ù„Ù„Ù…Ù†ØªØ¬');
      }
      
      const reader = new FileReader();
      reader.onload = function(event) {
        const imageData = event.target.result;
        db.ref('products').push({ 
          name, 
          price, 
          details, 
          image: imageData,
          createdAt: firebase.database.ServerValue.TIMESTAMP
        });
        
        alert('ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬ Ø¨Ù†Ø¬Ø§Ø­');
        document.getElementById('productName').value = '';
        document.getElementById('productPrice').value = '';
        document.getElementById('productDetails').value = '';
        fileInput.value = '';
        
        switchAdminTab('products-tab');
      };
      reader.readAsDataURL(fileInput.files[0]);
    }

    function showEditForm(productId) {
      document.getElementById(`edit-form-${productId}`).style.display = 'block';
    }

    function hideEditForm(productId) {
      document.getElementById(`edit-form-${productId}`).style.display = 'none';
    }

    function updateProduct(productId) {
      const name = document.getElementById(`edit-name-${productId}`).value;
      const price = document.getElementById(`edit-price-${productId}`).value;
      const details = document.getElementById(`edit-details-${productId}`).value;
      
      if (!name || !price || !details) {
        return alert('ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„');
      }
      
      db.ref('products/' + productId).update({
        name: name,
        price: price,
        details: details,
        updatedAt: firebase.database.ServerValue.TIMESTAMP
      });
      
      alert('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù†ØªØ¬ Ø¨Ù†Ø¬Ø§Ø­');
      hideEditForm(productId);
    }

    function deleteProduct(productId) {
      if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù…Ù†ØªØ¬ØŸ')) {
        db.ref('products/' + productId).remove();
        alert('ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ù†ØªØ¬ Ø¨Ù†Ø¬Ø§Ø­');
      }
    }

    function loadOrders() {
      db.ref('orders').orderByChild('timestamp').on('value', snapshot => {
        const table = document.getElementById('ordersTable');
        table.innerHTML = '<tr><th>Ø§Ù„Ù…Ù†ØªØ¬</th><th>Ø§Ù„ÙƒÙ…ÙŠØ©</th><th>Ø§Ù„Ø¹Ù…ÙŠÙ„</th><th>Ø§Ù„Ù‡Ø§ØªÙ</th><th>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</th><th>Ø¥Ø¬Ø±Ø§Ø¡</th></tr>';
        
        const orders = [];
        snapshot.forEach(child => {
          orders.push({
            key: child.key,
            ...child.val()
          });
        });
        
        // Ø¹Ø±Ø¶ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ù…Ù† Ø§Ù„Ø£Ø­Ø¯Ø« Ø¥Ù„Ù‰ Ø§Ù„Ø£Ù‚Ø¯Ù…
        orders.reverse().forEach(order => {
          const row = document.createElement('tr');
          row.innerHTML = `
            <td>${order.productName}</td>
            <td>${order.qty}</td>
            <td>${order.name}</td>
            <td>${order.phone}</td>
            <td>${order.address}</td>
            <td>
              <div class="action-buttons">
                <button class="complete-btn" onclick="completeOrder('${order.key}', '${order.productName}', '${order.qty}', '${order.productPrice}')">ØªÙ… Ø§Ù„ØªÙ†ÙÙŠØ°</button>
                <button class="cancel-btn" onclick="cancelOrder('${order.key}')">Ø¥Ù„ØºØ§Ø¡</button>
              </div>
            </td>
          `;
          table.appendChild(row);
        });
      });
    }

    function completeOrder(orderId, productName, qty, productPrice) {
      if (confirm('Ù‡Ù„ ØªÙ… ØªÙ†ÙÙŠØ° Ù‡Ø°Ø§ Ø§Ù„Ø·Ù„Ø¨ØŸ')) {
        // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¨Ù„Øº Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„ÙƒÙ…ÙŠØ© ÙˆØ§Ù„Ø³Ø¹Ø±
        let amount = 0;
        const price = parseFloat(productPrice) || 0;
        
        if (qty.includes('Ù†ØµÙ Ø«Ù…Ù† ÙƒÙŠÙ„Ùˆ')) amount = price * 0.0625;
        else if (qty.includes('Ø«Ù…Ù† ÙƒÙŠÙ„Ùˆ')) amount = price * 0.125;
        else if (qty.includes('Ø±Ø¨Ø¹ ÙƒÙŠÙ„Ùˆ')) amount = price * 0.25;
        else if (qty.includes('Ù†ØµÙ ÙƒÙŠÙ„Ùˆ')) amount = price * 0.5;
        else if (qty.includes('1 ÙƒÙŠÙ„Ùˆ')) amount = price * 1;
        else if (qty.includes('2 ÙƒÙŠÙ„Ùˆ')) amount = price * 2;
        else if (qty.includes('5 ÙƒÙŠÙ„Ùˆ')) amount = price * 5;
        
        // Ø­ÙØ¸ Ø§Ù„Ø·Ù„Ø¨ ÙÙŠ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±
        db.ref('reports').push({
          productName: productName,
          qty: qty,
          price: productPrice + ' Ø¬Ù†ÙŠÙ‡',
          amount: amount + ' Ø¬Ù†ÙŠÙ‡',
          date: new Date().toLocaleDateString('ar-EG'),
          timestamp: firebase.database.ServerValue.TIMESTAMP
        });
        
        // Ø­Ø°Ù Ø§Ù„Ø·Ù„Ø¨ Ù…Ù† Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª
        db.ref('orders/' + orderId).remove();
      }
    }

    function cancelOrder(orderId) {
      if (confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ø¥Ù„ØºØ§Ø¡ Ù‡Ø°Ø§ Ø§Ù„Ø·Ù„Ø¨ØŸ')) {
        db.ref('orders/' + orderId).remove();
      }
    }
    
    function loadReports() {
      db.ref('reports').orderByChild('timestamp').on('value', snapshot => {
        const table = document.getElementById('reportsTable');
        const summaryDiv = document.getElementById('reportSummary');
        table.innerHTML = '<tr><th>Ø§Ù„Ù…Ù†ØªØ¬</th><th>Ø§Ù„ÙƒÙ…ÙŠØ©</th><th>Ø§Ù„Ø³Ø¹Ø±</th><th>Ø§Ù„Ù…Ø¨Ù„Øº</th><th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th></tr>';
        
        const reports = [];
        let totalAmount = 0;
        snapshot.forEach(child => {
          reports.push({
            key: child.key,
            ...child.val()
          });
          
          // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ
          const amountStr = child.val().amount;
          const amount = parseFloat(amountStr) || 0;
          totalAmount += amount;
        });
        
        // Ø¹Ø±Ø¶ Ù…Ù„Ø®Øµ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
        summaryDiv.innerHTML = `
          <h3>Ù…Ù„Ø®Øµ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª</h3>
          <p>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø¹Ø¯Ø¯ Ø§Ù„Ø·Ù„Ø¨Ø§Øª: <strong>${reports.length}</strong></p>
          <p>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª: <strong>${totalAmount.toFixed(2)} Ø¬Ù†ÙŠÙ‡</strong></p>
          <p class="total">ØµØ§ÙÙŠ Ø§Ù„Ù…Ø¨Ù„Øº: <strong>${totalAmount.toFixed(2)} Ø¬Ù†ÙŠÙ‡</strong></p>
        `;
        
        // Ø¹Ø±Ø¶ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ù…Ù† Ø§Ù„Ø£Ø­Ø¯Ø« Ø¥Ù„Ù‰ Ø§Ù„Ø£Ù‚Ø¯Ù…
        reports.reverse().forEach(report => {
          const row = document.createElement('tr');
          row.innerHTML = `
            <td>${report.productName}</td>
            <td>${report.qty}</td>
            <td>${report.price}</td>
            <td>${report.amount}</td>
            <td>${report.date}</td>
          `;
          table.appendChild(row);
        });
      });
    }
    
    function clearReports() {
      if (confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±ØŸ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù† Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡.')) {
        db.ref('reports').remove()
          .then(() => {
            alert('ØªÙ… Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø¨Ù†Ø¬Ø§Ø­');
            loadReports();
          })
          .catch(error => {
            console.error('Error clearing reports:', error);
            alert('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø³Ø­ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±');
          });
      }
    }
    
    function sendContactMessage() {
      const name = document.getElementById('contactName').value;
      const phone = document.getElementById('contactPhone').value;
      const message = document.getElementById('contactMessage').value;
      
      if (!name || !phone || !message) {
        return alert('ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©');
      }
      
      if (!/^01[0125][0-9]{8}$/.test(phone)) {
        return alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… Ù‡Ø§ØªÙ ØµØ­ÙŠØ­ (11 Ø±Ù‚Ù…Ø§Ù‹)');
      }
      
      db.ref('messages').push({
        name: name,
        phone: phone,
        message: message,
        timestamp: firebase.database.ServerValue.TIMESTAMP
      })
      .then(() => {
        alert('ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„ØªÙƒ Ø¨Ù†Ø¬Ø§Ø­ØŒ Ø´ÙƒØ±Ø§Ù‹ Ù„ØªÙˆØ§ØµÙ„Ùƒ Ù…Ø¹Ù†Ø§!');
        document.getElementById('contactName').value = '';
        document.getElementById('contactPhone').value = '';
        document.getElementById('contactMessage').value = '';
        closeContactForm();
      })
      .catch(error => {
        console.error('Error sending message:', error);
        alert('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø©ØŒ ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰');
      });
    }
    
    function loadMessages() {
      db.ref('messages').orderByChild('timestamp').on('value', snapshot => {
        const table = document.getElementById('messagesTable');
        table.innerHTML = '<tr><th>Ø§Ù„Ø§Ø³Ù…</th><th>Ø§Ù„Ù‡Ø§ØªÙ</th><th>Ø§Ù„Ø±Ø³Ø§Ù„Ø©</th><th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th><th>Ø¥Ø¬Ø±Ø§Ø¡</th></tr>';
        
        const messages = [];
        snapshot.forEach(child => {
          messages.push({
            key: child.key,
            ...child.val()
          });
        });
        
        // Ø¹Ø±Ø¶ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ù…Ù† Ø§Ù„Ø£Ø­Ø¯Ø« Ø¥Ù„Ù‰ Ø§Ù„Ø£Ù‚Ø¯Ù…
        messages.reverse().forEach(msg => {
          const date = new Date(msg.timestamp);
          const dateStr = date.toLocaleDateString('ar-EG') + ' ' + date.toLocaleTimeString('ar-EG');
          
          const row = document.createElement('tr');
          row.innerHTML = `
            <td>${msg.name}</td>
            <td>${msg.phone}</td>
            <td>${msg.message}</td>
            <td>${dateStr}</td>
            <td><button onclick="deleteMessage('${msg.key}')">Ø­Ø°Ù</button></td>
          `;
          table.appendChild(row);
        });
      });
    }
    
    function deleteMessage(messageId) {
      if (confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ø­Ø°Ù Ù‡Ø°Ù‡ Ø§Ù„Ø±Ø³Ø§Ù„Ø©ØŸ')) {
        db.ref('messages/' + messageId).remove();
      }
    }
    
    // ÙˆØ¸ÙŠÙØ© Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
    function searchProducts() {
      const searchTerm = document.getElementById('searchInput').value.toLowerCase();
      if (!searchTerm) {
        renderProducts(allProducts);
        return;
      }
      
      const filteredProducts = allProducts.filter(product => 
        product.name.toLowerCase().includes(searchTerm) || 
        product.details.toLowerCase().includes(searchTerm) ||
        product.price.toLowerCase().includes(searchTerm)
      );
      
      renderProducts(filteredProducts);
    }
    
    // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø¹Ù†Ø¯ Ø¨Ø¯Ø¡ Ø§Ù„ØªØ´ØºÙŠÙ„
    document.addEventListener('DOMContentLoaded', () => {
      db.ref('products').on('value', snapshot => {
        allProducts = [];
        snapshot.forEach(child => {
          allProducts.push({
            id: child.key,
            ...child.val()
          });
        });
        renderProducts();
      });
      
      // ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¨Ø­Ø« Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± Enter
      document.getElementById('searchInput').addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
          searchProducts();
        }
      });
      
      // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø®Ø§Ø±Ø¬Ù‡Ø§
      document.addEventListener('click', function(event) {
        if (!aboutCard.contains(event.target) && event.target !== aboutBtn) {
          closeAboutCard();
        }
        if (!contactFormContainer.contains(event.target) && event.target !== contactBtn) {
          closeContactForm();
        }
      });
    });
  </script>
</body>
</html>
